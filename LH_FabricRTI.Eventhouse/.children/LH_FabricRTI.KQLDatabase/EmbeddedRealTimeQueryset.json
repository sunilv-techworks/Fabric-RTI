{
  "queryset": {
    "version": "1.0.0",
    "dataSources": [
      {
        "id": "d36b4d82-bb16-459b-8a3a-a513531e4bc2",
        "clusterUri": "https://trd-rvavzmzx3xk08kvq25.z0.kusto.fabric.microsoft.com",
        "type": "Fabric",
        "databaseItemId": "ac6c9aee-18c4-48cb-bdce-d6f538f3ead8",
        "databaseItemName": "LH_FabricRTI"
      }
    ],
    "tabs": [
      {
        "id": "c1e9ebe8-0f88-45ca-9527-d477331ec6ff",
        "content": "//***********************************************************************************************************\n// Here are two articles to help you get started with KQL:\n// KQL reference guide - https://aka.ms/KQLguide\n// SQL - KQL conversions - https://aka.ms/sqlcheatsheet\n//***********************************************************************************************************\n\n.create-or-alter function\n    with (view=true) \n    vwSalesOrder() { mvSalesOrderDetail\n| join kind=inner \n(mvSalesHeaderTable\n| project-rename ['SOH.SalesOrderID']=SalesOrderID, ['SOH.ModifiedDate']=ModifiedDate, ['SOH.op']=op, ['SOH.IngestedAt']=IngestedAt) on ($left.SalesOrderID == $right.['SOH.SalesOrderID'])\n| where (op != \"d\")\n| project op, ['SOH.SalesOrderID'], RevisionNumber, OrderDate, DueDate, ShipDate, Status, OnlineOrderFlag, CustomerID, \n    ShipToAddressID, Comment, SalesOrderDetailID, ProductID, OrderQty, UnitPrice, LineItemTotal=OrderQty * UnitPrice, ModifiedDate, IngestedAt\n| project-rename SalesOrderID=['SOH.SalesOrderID'] }\n\n\n// Use \"take\" to view a sample number of records in the table and check the data.\nYOUR_TABLE_HERE\n| take 100\n\n// See how many records are in the table.\nYOUR_TABLE_HERE\n| count\n\n// This query returns the number of ingestions per hour in the given table.\nYOUR_TABLE_HERE\n| summarize IngestionCount = count() by bin(ingestion_time(), 1h)\n\n",
        "title": "Tab",
        "dataSourceId": "d36b4d82-bb16-459b-8a3a-a513531e4bc2"
      }
    ]
  }
}